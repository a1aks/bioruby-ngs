#!/usr/bin/env ruby
require 'thor/group'

class BioNGS < Thor::Group
  include Thor::Actions
  # the project name
  argument :project_name
  
  def self.source_root
     File.dirname(__FILE__)
  end
  
  def create_project_dir
    empty_directory project_name
  end
  
  def create_sub_dirs
    empty_directory File.join("#{project_name}","data")
    empty_directory File.join("#{project_name}","db")
    empty_directory File.join("#{project_name}","log")
    empty_directory File.join("#{project_name}","tasks")
    empty_directory File.join("#{project_name}","scripts")
  end
  
  def create_bwa_tasks
    template(File.join("..","templates","bwa.erb"), "#{project_name}/tasks/bwa.thor")
  end
  
  
end

BioNGS.start
